# Check that we communicate properly with the Swift compiler.
#
# RUN: rm -rf %t.build
# RUN: mkdir -p %t.build
# RUN: touch %t.build/input
# RUN: cp %s %t.build/build.swift-build
# RUN: %{swift-build-tool} --chdir %t.build > %t.out
# RUN: %{FileCheck} < %t.out %s
#
# CHECK: Compiling Swift Module 'Foo'

client:
  name: swift-build

targets:
  "": ["<output>"]

commands:
  C1:
    tool: swift-compiler
    outputs: ["<output>"]
    executable: echo swiftc
    module-name: Foo
    # FIXME: This needs to be a list.
    sources: s1.swift s2.swift
    other-args: -OTHERARG
