# Check that the BuildSystem C API example builds and runs correctly.
#
# RUN: cc -o %t.exe %{srcroot}/examples/c-api/buildsystem/main.c -I %{srcroot}/products/libllbuild/public-api -lllbuild -L %{llbuild-lib-dir}
# RUN: env LD_LIBRARY_PATH=%{llbuild-lib-dir} %t.exe %s > %t.out
# RUN: %{FileCheck} %s --input-file %t.out
#
# CHECK: command_started: <hello>
# CHECK: command_finished: <hello>
# CHECK: command_started: <all>
# CHECK: command_finished: <all>

client:
  name: basic
  version: 0

targets:
  "": ["<all>"]

commands:
  "<all>":
    tool: phony
    inputs: ["<hello>"]
    outputs: ["<all>"]

  "<hello>":
    tool: shell
    args: ["echo", "Hello, world!"]
    outputs: ["<hello>"]
